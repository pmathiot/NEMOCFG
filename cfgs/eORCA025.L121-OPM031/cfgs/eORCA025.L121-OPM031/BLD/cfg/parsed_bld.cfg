# ----------------------- FCM extract configuration file -----------------------
cfg::type                   bld
cfg::version                1.0


# ------------------------------------------------------------------------------
# Build information
# ------------------------------------------------------------------------------

# INC /scratch/cnt0021/egi6035/pmathiot/DRAKKAR/WeORCA025.L121-OPM031/mk/arch_nemo.fcm # Start

#==========================================================
#    Automatically generated by Fcheck_archfile.sh from
#    /scratch/cnt0021/egi6035/pmathiot/DRAKKAR/WeORCA025.L121-OPM031/arch/arch-occigen.fcm
#==========================================================

# Occigen BULL @ CINES
#
# NCDF_HOME   root directory containing lib and include subdirectories for netcdf4
# HDF5_HOME   root directory containing lib and include subdirectories for HDF5
# XIOS_HOME   root directory containing lib for XIOS
# OASIS_HOME  root directory containing lib for OASIS
#
# NCDF_INC    netcdf4 include file
# NCDF_LIB    netcdf4 library
# XIOS_INC    xios include file    (taken into accound only if key_iomput is activated)
# XIOS_LIB    xios library         (taken into accound only if key_iomput is activated)
# OASIS_INC   oasis include file   (taken into accound only if key_oasis3 is activated)
# OASIS_LIB   oasis library        (taken into accound only if key_oasis3 is activated)
#
# FC          Fortran compiler command
# FCFLAGS     Fortran compiler flags
# FFLAGS      Fortran 77 compiler flags
# LD          linker
# LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries
# FPPFLAGS    pre-processing flags
# AR          assembler
# ARFLAGS     assembler flags
# MK          make
# USER_INC    complete list of include files
# USER_LIB    complete list of libraries to pass to the linker
# CC          C compiler used to compile conv for AGRIF
# CFLAGS      compiler flags used with CC
#
# Note that:
#  - unix variables $... are accpeted and will be evaluated before calling fcm.
#  - fcm variables are starting with a % (and not a $)
#
%NCDF_HOME                  /opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-4.6.3-ilty/
%NCDF_HOME_FORTRAN          /opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-fortran-4.4.4-hnmh/
%HDF5_HOME                  /opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/hdf5-1.10.5-nnfz/
%XIOS_HOME                  /scratch/cnt0021/egi6035/SHARED/XIOS/xios-2.5_r1903_intelmpi-5.1.3.258
%OASIS_HOME                 /scratch/cnt0021/egi6035/pmathiot/now/models/oa3mct

%NCDF_INC                   -I/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-4.6.3-ilty//inc -I/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-fortran-4.4.4-hnmh//inc -I/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/hdf5-1.10.5-nnfz//inc
%NCDF_LIB                   -L/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-4.6.3-ilty//lib -L/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-fortran-4.4.4-hnmh//lib -L/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/hdf5-1.10.5-nnfz//lib -lnetcdff -lnetcdf
%XIOS_INC                   -I/scratch/cnt0021/egi6035/SHARED/XIOS/xios-2.5_r1903_intelmpi-5.1.3.258/inc
%XIOS_LIB                   -L/scratch/cnt0021/egi6035/SHARED/XIOS/xios-2.5_r1903_intelmpi-5.1.3.258/lib -lxios -lstdc++
%OASIS_INC                  -I/scratch/cnt0021/egi6035/pmathiot/now/models/oa3mct/build/lib/mct -I/scratch/cnt0021/egi6035/pmathiot/now/models/oa3mct/build/lib/psmile.MPI1
%OASIS_LIB                  -L/scratch/cnt0021/egi6035/pmathiot/now/models/oa3mct/lib

%CPP                        cpp
%FC                         mpiifort -c -cpp
%FCFLAGS                    -i4 -r8 -O3 -fp-model precise -xAVX -fno-alias -traceback
#%FCFLAGS             -i4 -r8 -g -O0 -debug all -traceback -fp-model strict -ftrapuv -check all,noarg_temp_created -fpe-all0 -ftz -init=arrays,snan
#%FCFLAGS             -i4 -r8 -O0 -fp-model precise -xAVX -fno-alias -traceback -g -CB
%FFLAGS                     -i4 -r8 -O3 -fp-model precise -xAVX -fno-alias -traceback
%LD                         mpiifort
#%FPPFLAGS            -P -C -traditional
#  With -C and compiling with agrif, conv fails.
%FPPFLAGS                   -P  -traditional
%LDFLAGS                    -lstdc++
%AR                         ar
%ARFLAGS                    rs
%MK                         gmake
%USER_INC                   -I/scratch/cnt0021/egi6035/SHARED/XIOS/xios-2.5_r1903_intelmpi-5.1.3.258/inc -I/scratch/cnt0021/egi6035/pmathiot/now/models/oa3mct/build/lib/mct -I/scratch/cnt0021/egi6035/pmathiot/now/models/oa3mct/build/lib/psmile.MPI1 -I/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-4.6.3-ilty//inc -I/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-fortran-4.4.4-hnmh//inc -I/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/hdf5-1.10.5-nnfz//inc
%USER_LIB                   -L/scratch/cnt0021/egi6035/SHARED/XIOS/xios-2.5_r1903_intelmpi-5.1.3.258/lib -lxios -lstdc++ -L/scratch/cnt0021/egi6035/pmathiot/now/models/oa3mct/lib -L/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-4.6.3-ilty//lib -L/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-fortran-4.4.4-hnmh//lib -L/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/hdf5-1.10.5-nnfz//lib -lnetcdff -lnetcdf

%CC                         mpiicc
%CFLAGS                     -O0
# INC /scratch/cnt0021/egi6035/pmathiot/DRAKKAR/WeORCA025.L121-OPM031/mk/arch_nemo.fcm # End
# INC /scratch/cnt0021/egi6035/pmathiot/DRAKKAR/WeORCA025.L121-OPM031/mk/cpp.fcm # Start
bld::tool::fppkeys          key_iomput key_mpp_mpi key_netcdf4 key_nosignedzero key_si3 key_drakkar
# INC /scratch/cnt0021/egi6035/pmathiot/DRAKKAR/WeORCA025.L121-OPM031/mk/cpp.fcm # End

search_src                  1

src::ioipsl                 /scratch/cnt0021/egi6035/pmathiot/DRAKKAR/WeORCA025.L121-OPM031/ext/IOIPSL/src
src::nemo                   /scratch/cnt0021/egi6035/pmathiot/DRAKKAR/WeORCA025.L121-OPM031/cfgs/eORCA025.L121-OPM031/WORK

bld::target                 nemo.exe
bld::exe_dep                


dir::root                   /scratch/cnt0021/egi6035/pmathiot/DRAKKAR/WeORCA025.L121-OPM031/cfgs/eORCA025.L121-OPM031/BLD


bld::tool::cpp              cpp
bld::tool::fpp              cpp
bld::tool::fc               mpiifort -c -cpp
bld::tool::fflags           -i4 -r8 -O3 -fp-model precise -xAVX -fno-alias -traceback -I/scratch/cnt0021/egi6035/SHARED/XIOS/xios-2.5_r1903_intelmpi-5.1.3.258/inc -I/scratch/cnt0021/egi6035/pmathiot/now/models/oa3mct/build/lib/mct -I/scratch/cnt0021/egi6035/pmathiot/now/models/oa3mct/build/lib/psmile.MPI1 -I/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-4.6.3-ilty//inc -I/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-fortran-4.4.4-hnmh//inc -I/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/hdf5-1.10.5-nnfz//inc
bld::tool::ld               mpiifort
bld::tool::ldflags          -lstdc++ -L/scratch/cnt0021/egi6035/SHARED/XIOS/xios-2.5_r1903_intelmpi-5.1.3.258/lib -lxios -lstdc++ -L/scratch/cnt0021/egi6035/pmathiot/now/models/oa3mct/lib -L/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-4.6.3-ilty//lib -L/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/netcdf-fortran-4.4.4-hnmh//lib -L/opt/software/occigen/spack/linux-rhel7-x86_64/intel-19.0.4/hdf5-1.10.5-nnfz//lib -lnetcdff -lnetcdf
bld::tool::ar               ar
bld::tool::arflags          rs
bld::tool::make             gmake

# Pre-process code before analysing dependencies
bld::pp::ioipsl             1
bld::pp::nemo               1
bld::tool::fppflags::nemo   -P  -traditional
bld::tool::fppflags::ioipsl -P  -traditional

# Ignore the following dependencies
bld::excl_dep               inc::netcdf.inc
bld::excl_dep               inc::VT.inc
bld::excl_dep               use::netcdf
bld::excl_dep               use::xios
bld::excl_dep               h::netcdf.inc
bld::excl_dep               h::mpif.h
bld::excl_dep               inc::mpif.h
bld::excl_dep               inc::mpe_logf.h
bld::excl_dep               use::mpi
bld::excl_dep               use::mod_oasis
bld::excl_dep               use::mkl_dfti
# Don't generate interface files
bld::tool::geninterface     none

# Allow ".h90" as an extension for CPP include files
bld::infile_ext::h90        CPP::INCLUDE

# extension for module output
bld::outfile_ext::mod       .mod

# rename executable to nemo.exe
bld::exe_name::model        nemo.exe

