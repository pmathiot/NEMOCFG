

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>NEMO tools &mdash; NEMO@IGE  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/style.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="HPC centres" href="HPC_centres.html" />
    <link rel="prev" title="AMUXL36 simulations" href="simu_AMUXL36.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> NEMO@IGE
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Input files</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="input_DATA.html">Original data set</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_eORCA12.html">eORCA12 input files</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_eORCA025.html">eORCA025 input files</a></li>
</ul>
<p class="caption"><span class="caption-text">Mask files</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mask_eORCA025.html">eORCA025 mask files</a></li>
</ul>
<p class="caption"><span class="caption-text">NEMO simulations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="simu_eORCA025.html">eORCA025 simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="simu_AMUXL025.html">AMUXL025 simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="simu_AMUXL12.html">AMUXL12 simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="simu_AMUXL36.html">AMUXL36 simulations</a></li>
</ul>
<p class="caption"><span class="caption-text">Tools</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">NEMO tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="#drakkar-tools">DRAKKAR tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#nemobat">NEMOBAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cdftools">CDFTOOLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sosie">SOSIE</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#others-tools">OTHERS tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#valso">VALSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="#valis">VALIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pychart">PYCHART</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pytime">PYTIME</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pytools">PYTOOLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-climato">BUILD_CLIMATO</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">HPC</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="HPC_centres.html">HPC centres</a></li>
<li class="toctree-l1"><a class="reference internal" href="HPC_centres.html#parallelisation">Parallelisation</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous.html">NetCDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous.html#restructuredtext">reStructuredText</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous.html#cmip6-data">CMIP6 data</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous.html#git">Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous.html#conda">CONDA</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NEMO@IGE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>NEMO tools</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/tools_nemo.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="nemo-tools">
<h1>NEMO tools<a class="headerlink" href="#nemo-tools" title="Permalink to this headline">¶</a></h1>
<p>A complete list of the NEMO tools is available <a class="reference external" href="(https://forge.ipsl.jussieu.fr/nemo/chrome/site/doc/NEMO/guide/html/tools.html#list-of-tools)">here</a>.</p>
<dl class="simple">
<dt>The main NEMO tools are the tools used to :</dt><dd><ul class="simple">
<li><p>build the domain_cfg.nc NEMO start up file (<a class="reference external" href="https://forge.ipsl.jussieu.fr/nemo/chrome/site/doc/NEMO/guide/html/tools.html#domaincfg">DOMAINcfg</a>)</p></li>
<li><p>build the weight file used for the online interpolation (<a class="reference external" href="https://forge.ipsl.jussieu.fr/nemo/chrome/site/doc/NEMO/guide/html/tools.html#weights">WEIGHTS</a>)</p></li>
<li><p>rebuild the restart file and other split files (<a class="reference external" href="https://forge.ipsl.jussieu.fr/nemo/chrome/site/doc/NEMO/guide/html/tools.html#rebuild-nemo">REBUILD_NEMO</a>)</p></li>
</ul>
</dd>
</dl>
<p>The tools are included in the NEMO distribution.
So the best to download these tools, is to check out the NEMO version you plan to use and go in the tools directory</p>
</div>
<div class="section" id="drakkar-tools">
<h1>DRAKKAR tools<a class="headerlink" href="#drakkar-tools" title="Permalink to this headline">¶</a></h1>
<p>For all these tools, see the README available in the git directory. If there is no README ask the main developer.</p>
<div class="section" id="nemobat">
<h2>NEMOBAT<a class="headerlink" href="#nemobat" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="cdftools">
<span id="id1"></span><h2>CDFTOOLS<a class="headerlink" href="#cdftools" title="Permalink to this headline">¶</a></h2>
<p>CDFTOOLS is a diagnostic package written in fortran 90 for the analysis of NEMO model output,
initialized in the frame of the DRAKKAR project (<a class="reference external" href="https://www.drakkar-ocean.eu/">https://www.drakkar-ocean.eu/</a>).</p>
<p>The version described here differs from the original package mostly in how the netcdf variable and dimension named are managed.
With this version, there is no need to recompile the code when you change your output dimensions/variables name
once it has beed added to the list of available names.</p>
<ul class="simple">
<li><p>How to download it:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/pmathiot/CDFTOOLS_4.0_ISF.git</span>
</pre></div>
</div>
<ul class="simple">
<li><p>description and README available here: <a class="reference external" href="https://github.com/pmathiot/CDFTOOLS_4.0_ISF">https://github.com/pmathiot/CDFTOOLS_4.0_ISF</a></p></li>
</ul>
</div>
<div class="section" id="sosie">
<h2>SOSIE<a class="headerlink" href="#sosie" title="Permalink to this headline">¶</a></h2>
<p>SOSIE is an interpolation package for NetCDF files (full description available here: <a class="reference external" href="https://brodeau.github.io/sosie/">https://brodeau.github.io/sosie/</a>).
It is mainly used to pre-process file in order to start a NEMO simulation or to post-process output files.</p>
<ul class="simple">
<li><p>How to download it:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/brodeau/sosie.git</span>
</pre></div>
</div>
<ul class="simple">
<li><p>description and README available here: <a class="reference external" href="https://github.com/brodeau/sosie">https://github.com/brodeau/sosie</a></p></li>
</ul>
</div>
</div>
<div class="section" id="others-tools">
<h1>OTHERS tools<a class="headerlink" href="#others-tools" title="Permalink to this headline">¶</a></h1>
<div class="section" id="valso">
<span id="id2"></span><h2>VALSO<a class="headerlink" href="#valso" title="Permalink to this headline">¶</a></h2>
<p>VALSO is the toolbox used to produce the plots in the eORCA025.L121 OPM006 monitoring section (<a class="reference internal" href="simu_eORCA025_OPM006.html#eorca025-l121-opm006-monitoring"><span class="std std-ref">here</span></a>).
It is based on the <a class="reference internal" href="#cdftools"><span class="std std-ref">CDFTOOLS</span></a> for the processing of the NEMO output files, python and image magic for plotting.</p>
<ul class="simple">
<li><p>How to download it:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/pmathiot/VALSO.git</span>
</pre></div>
</div>
<ul class="simple">
<li><p>description and README available here: <a class="reference external" href="https://github.com/pmathiot/VALSO">https://github.com/pmathiot/VALSO</a></p></li>
</ul>
</div>
<div class="section" id="valis">
<span id="id3"></span><h2>VALIS<a class="headerlink" href="#valis" title="Permalink to this headline">¶</a></h2>
<p>VALIS is a toolbox used to produced the plots in the eORCA025.L121 OPM006 ice shelf monitoring section (<a class="reference internal" href="simu_eORCA025_OPM006.html#eorca025-l121-opm006-isf-monitoring"><span class="std std-ref">here</span></a>).
It is python based and as input file it used the filed processed by <a class="reference internal" href="#valso"><span class="std std-ref">VALSO</span></a>.</p>
<ul class="simple">
<li><p>How to download it:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/pmathiot/VALIS.git</span>
</pre></div>
</div>
<ul class="simple">
<li><p>description and README available here: <a class="reference external" href="https://github.com/pmathiot/VALIS">https://github.com/pmathiot/VALIS</a></p></li>
</ul>
</div>
<div class="section" id="pychart">
<h2>PYCHART<a class="headerlink" href="#pychart" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>How to download it:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/pmathiot/PyChart.git</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Example of a command (the one used to produce the figure <a class="reference internal" href="simu_eORCA025_OPM006.html#bsf-opm006"><span class="std std-numref">Fig. 12</span></a>):</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python ~/GIT/PyChart/plot_maps.py \</span>
<span class="go"> --ft &#39;BSF (OPM006)&#39; \</span>
<span class="go"> --spfid &#39;1979-1988&#39;                            &#39;1989-1998&#39;                           &#39;1999-2008&#39;                            &#39;2009-2018&#39;                         \</span>
<span class="go"> --mapf eORCA025.L121-OPM006_10y_y1979_psi.nc eORCA025.L121-OPM006_10y_y1989_psi.nc eORCA025.L121-OPM006_10y_y1999_psi.nc eORCA025.L121-OPM006_10y_y2009_psi.nc  \</span>
<span class="go"> --cntf eORCA025.L121-OPM006_10y_y1979_psi.nc eORCA025.L121-OPM006_10y_y1989_psi.nc eORCA025.L121-OPM006_10y_y1999_psi.nc eORCA025.L121-OPM006_10y_y2009_psi.nc  \</span>
<span class="go"> --mapv sobarstf \</span>
<span class="go"> --cntv sobarstf \</span>
<span class="go"> --cblvl  0 100 10 \</span>
<span class="go"> --cntlvl 0 100 10 \</span>
<span class="go"> --cbu Sv \</span>
<span class="go"> --cbn magma_r \</span>
<span class="go"> --mapsf 0.000001 \</span>
<span class="go"> --cntsf 0.000001 \</span>
<span class="go"> --cbext both \</span>
<span class="go"> --mesh   mesh.nc     \</span>
<span class="go"> --bathyf mesh.nc     \</span>
<span class="go"> --bathyv bathy_metry \</span>
<span class="go"> --bathylvl 1000 2000 3000 4000 \</span>
<span class="go"> -p south_ocean \</span>
<span class="go"> --sp 2x2 \</span>
<span class="go"> -o bsf_OPM006</span>
</pre></div>
</div>
<p>–*v, –*v, –mesh, –bathy? can allow 1 or nfile arguments
-p is the projection among a predefined list, –sp the disposition you want (can be 1x3 even if you ask only 2 plots)
-o the output</p>
</div>
<div class="section" id="pytime">
<h2>PYTIME<a class="headerlink" href="#pytime" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>PyTimes is a tools to build easily multiple time series from a bench of simulations. It manages list of input files with multiple</dt><dd><p>time frame or multiple files of 1 time frame. This is one of the core tools for VALSO.</p>
</dd>
</dl>
<ul class="simple">
<li><p>How to download it:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/pmathiot/PyTimes.git</span>
</pre></div>
</div>
</div>
<div class="section" id="pytools">
<h2>PYTOOLS<a class="headerlink" href="#pytools" title="Permalink to this headline">¶</a></h2>
<p>PyTools is a list of tools used when NEMO is not cooperative:</p>
<ul class="simple">
<li><p>filechek.py check if 2 netcdf files are identical. It checks data, attributes (…).</p></li>
<li><p>get_value.py display value of a list of variable value at a specific points.</p></li>
<li><p>get_klevel.py find the closest level of a specific depth.</p></li>
</ul>
<ul class="simple">
<li><p>How to download it:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/pmathiot/PyTools.git</span>
</pre></div>
</div>
</div>
<div class="section" id="build-climato">
<h2>BUILD_CLIMATO<a class="headerlink" href="#build-climato" title="Permalink to this headline">¶</a></h2>
<p>BUILD_CLIMATO is tools to build multi year mean from NEMO output.
To have support of the thickness weighting, variable attributes need to specify a correct cell_methods: “time: mean (thickness weighted)”.
This can be set up before the start of the run in XIOS by using cell_methods=”time: mean (thickness weighted)” in XIOS variable definition.</p>
<ul class="simple">
<li><p>How to download it:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/pmathiot/BUILD_CLIMATO.git</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="HPC_centres.html" class="btn btn-neutral float-right" title="HPC centres" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="simu_AMUXL36.html" class="btn btn-neutral float-left" title="AMUXL36 simulations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, DRAKKAR.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>