

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HPC centres &mdash; NEMO@IGE  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Useful tools" href="tools_nemo.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> NEMO@IGE
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Input files</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="input_DATA.html">Original data set</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_eORCA12.html">eORCA12 input files</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_eORCA025.html">eORCA025 input files</a></li>
</ul>
<p class="caption"><span class="caption-text">Mask files</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mask_eORCA025.html">eORCA025 mask files</a></li>
</ul>
<p class="caption"><span class="caption-text">NEMO simulations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="simu_eORCA025.html">eORCA025 simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="simu_AMUXL025.html">AMUXL025 simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="simu_AMUXL12.html">AMUXL12 simulations</a></li>
</ul>
<p class="caption"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tools_nemo.html">Useful tools</a></li>
</ul>
<p class="caption"><span class="caption-text">HPC</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">HPC centres</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#occigen">Occigen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#login">Login</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#how-to-ask-a-login">How to ask a login</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-log-in">How to log in</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#python">Python</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#gricad">GRICAD</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#parallelisation">Parallelisation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#mpi">MPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#open-mp">Open MP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gpu">GPU</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NEMO@IGE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>HPC centres</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/HPC_centres.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hpc-centres">
<h1>HPC centres<a class="headerlink" href="#hpc-centres" title="Permalink to this headline">¶</a></h1>
<div class="section" id="occigen">
<h2>Occigen<a class="headerlink" href="#occigen" title="Permalink to this headline">¶</a></h2>
<div class="section" id="login">
<h3>Login<a class="headerlink" href="#login" title="Permalink to this headline">¶</a></h3>
<div class="section" id="how-to-ask-a-login">
<h4>How to ask a login<a class="headerlink" href="#how-to-ask-a-login" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>WARNING: do not use safari as the display of a page to print do not work</p></li>
<li><p>link to the form to fill: <a class="reference external" href="https://www.cines.fr/services/formulaires-et-textes/">https://www.cines.fr/services/formulaires-et-textes/</a></p></li>
</ul>
</div>
<div class="section" id="how-to-log-in">
<h4>How to log in<a class="headerlink" href="#how-to-log-in" title="Permalink to this headline">¶</a></h4>
<p>The easiest to connect is to use a proxy jump. You will still have to enter your password for Occigen but not for the gateway.
To do so you need to:</p>
<ul class="simple">
<li><p>set up your ssh key to be able to connect to your gateway without password.</p>
<ul>
<li><p>If you use a non-empty passphrase, you may consider using a ssh-agent to manage your key during your session</p></li>
</ul>
</li>
<li><p>set up you proxy jump:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Host occigen</span>
<span class="go">  ProxyJump gatewayname</span>
<span class="go">  User username</span>
<span class="go">  HostName occigen.cines.fr</span>
<span class="go">  ForwardX11 yes</span>
<span class="go">  ForwardX11Timeout 24h</span>
<span class="go">  ForwardX11Trusted yes</span>
</pre></div>
</div>
<p>Now you can connect with only the occigen password to enter:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ssh occigen</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<p>To use python on Occigen, the easiest is to use conda.</p>
<ul class="simple">
<li><p>Full documentation on the package management is available here:
<a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#create-env-from-file">https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#create-env-from-file</a></p></li>
<li><p>The conda module can be load:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">module load /opt/software/alfred/spack-dev/modules/tools/linux-rhel7-x86_64/miniconda3/4.7.12.1-gcc-4.8.5</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Installing packages on the home will put a lot of file and possibly reach the inode limit on your home.
The work around is to create a .conda directory on your scratchdir and link it to your home. The drawback is that it is not backed up.
The work around it to generate your environment file and save it to your home directory or elsewhere.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(base)</span> <span class="gp">xxxxxx@machine:~$</span> ls -la
<span class="go">...</span>
<span class="go">lrwxrwxrwx.  1 xxxxx yyyyyy    .....  .conda -&gt; /scratch/zzzzz/yyyy/xxxx/.conda</span>
<span class="go">...</span>
</pre></div>
</div>
<ul class="simple">
<li><p>You can generate an environment file like this:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda env export --from-history</span>
</pre></div>
</div>
<ul class="simple">
<li><p>You can create an env from an env file like this:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda env create -f environment.yml</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="gricad">
<h2>GRICAD<a class="headerlink" href="#gricad" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="parallelisation">
<h1>Parallelisation<a class="headerlink" href="#parallelisation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="mpi">
<h2>MPI<a class="headerlink" href="#mpi" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="open-mp">
<h2>Open MP<a class="headerlink" href="#open-mp" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="gpu">
<h2>GPU<a class="headerlink" href="#gpu" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="tools_nemo.html" class="btn btn-neutral float-left" title="Useful tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, DRAKKAR

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>